https://os.mbed.com/users/vsluiter/code/Encoder/#18b000b443af014ef545c3cb69cc77baef76820b